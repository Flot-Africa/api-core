# Existing configurations
quarkus.datasource.jdbc=false
quarkus.hibernate-orm.database.generation=update
quarkus.default-locale=fr-FR

# Logging configurations
quarkus.log.category."io.quarkus.hibernate.reactive".level=DEBUG
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE

quarkus.hibernate-orm.packages=africa.flot.domain.model

# API Configuration
#quarkus.http.root-path=/api/v1
quarkus.resteasy-reactive.path=/v1

quarkus.swagger-ui.enable=true


# Rate limiting
quarkus.http.limits.max-connections=20
quarkus.http.limits.requests-per-second=50


# Performance tuning
quarkus.thread-pool.core-threads=1
quarkus.thread-pool.max-threads=10
quarkus.vertx.eventloop.pool-size=4

# Metrics Configuration
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.export.prometheus.port=9100
quarkus.micrometer.binder.http-client.enabled=true
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.jvm=true
quarkus.micrometer.binder.system=true

# Enable specific metrics
quarkus.micrometer.binder.vertx.enabled=true
quarkus.micrometer.binder.kafka.enabled=true

# Custom metrics prefix
quarkus.micrometer.registry-static-labels=application=flot-api

# Metrics security (if needed)
quarkus.micrometer.export.prometheus.authentication.enabled=true
quarkus.micrometer.export.prometheus.authentication.basic-auth.username=${METRICS_USERNAME:admin}
quarkus.micrometer.export.prometheus.authentication.basic-auth.password=${METRICS_PASSWORD:changeme}

# Enable health probes
quarkus.smallrye-health.root-path=/health
quarkus.smallrye-health.liveness-path=/live
quarkus.smallrye-health.readiness-path=/ready

# Application-specific metrics (examples)
quarkus.micrometer.distribution-statistics-enabled=true
quarkus.micrometer.distribution-percentiles-histogram.http.server.requests=true
quarkus.micrometer.distribution-percentiles.http.server.requests=0.5, 0.95, 0.99, 0.999

# Logging for metrics (optional, for debugging)
quarkus.log.category."io.micrometer".level=DEBUG
quarkus.analytics.disabled=false


smallrye.jwt.sign.key.location=./jwt/privateKey.pem
mp.jwt.verify.issuer=flot
mp.jwt.verify.publickey.location=./jwt/publicKey.pem