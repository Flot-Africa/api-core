# Existing configurations
quarkus.default-locale=fr-FR
# Logging configurations
quarkus.log.category."io.quarkus.hibernate.reactive".level=DEBUG
quarkus.log.category."org.hibernate.SQL".level=DEBUG
quarkus.log.category."org.hibernate.type.descriptor.sql.BasicBinder".level=TRACE
quarkus.hibernate-orm.packages=africa.flot.domain.model
# API Configuration
#quarkus.http.root-path=/api/v1
quarkus.resteasy-reactive.path=/v1
quarkus.swagger-ui.enable=true
# Rate limiting
quarkus.http.limits.max-connections=20
quarkus.http.limits.requests-per-second=50
# Performance tuning
quarkus.thread-pool.core-threads=1
quarkus.thread-pool.max-threads=10
quarkus.vertx.eventloop.pool-size=4
# Metrics Configuration
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.export.prometheus.port=9100
quarkus.micrometer.binder.http-client.enabled=true
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.jvm=true
quarkus.micrometer.binder.system=true
# Enable specific metrics
quarkus.micrometer.binder.vertx.enabled=true
quarkus.micrometer.binder.kafka.enabled=true
# Custom metrics prefix
quarkus.micrometer.registry-static-labels=application=flot-api
# Metrics security (if needed)
quarkus.micrometer.export.prometheus.authentication.enabled=true
quarkus.micrometer.export.prometheus.authentication.basic-auth.username=${METRICS_USERNAME:admin}
quarkus.micrometer.export.prometheus.authentication.basic-auth.password=${METRICS_PASSWORD:changeme}
# Enable health probes
quarkus.smallrye-health.root-path=/health
quarkus.smallrye-health.liveness-path=/live
quarkus.smallrye-health.readiness-path=/ready
# Application-specific metrics (examples)
quarkus.micrometer.distribution-statistics-enabled=true
quarkus.micrometer.distribution-percentiles-histogram.http.server.requests=true
quarkus.micrometer.distribution-percentiles.http.server.requests=0.5, 0.95, 0.99, 0.999
# Logging for metrics (optional, for debugging)
quarkus.log.category."io.micrometer".level=DEBUG
quarkus.analytics.disabled=false
smallrye.jwt.sign.key.location=./jwt/privateKey.pem
mp.jwt.verify.issuer=flot
mp.jwt.verify.publickey.location=./jwt/publicKey.pem
#quarkus.datasource.devservices.enabled=false
#quarkus.datasource.devservices.db-name=flot_api
#quarkus.datasource.devservices.port=5432
###################################################################
#
#####                       MINIO
#
####################################################################
#quarkus.minio.url=https://minio-po4s0wck08k8gcscgcgw4cgc.195.110.34.74.sslip.io
##quarkus.minio.port=9000
#quarkus.minio.secure=false
#quarkus.minio.access-key=eGtjcda4rfuG8PConl74
#quarkus.minio.secret-key=cXyKSNkBWnlvcKbMiPbcWMD8rrxecdi0LpJKX92Y
quarkus.minio.url=https://minio-po4s0wck08k8gcscgcgw4cgc.195.110.34.74.sslip.io
quarkus.minio.access-key=eGtjcda4rfuG8PConl74
quarkus.minio.secret-key=cXyKSNkBWnlvcKbMiPbcWMD8rrxecdi0LpJKX92Y
quarkus.minio.bucket-name=flotkyb
###################################################################
#                       DAYANA
###################################################################
# URL de l'API Dayana
#dayana-api/mp-rest/url=https://api.dayana.com
# Portée du client REST
#dayana-api/mp-rest/scope=javax.inject.Singleton
# API Key et Secret Key pour l'authentification
#dayana-api.api-key= Flot-Demo-1
#dayana-api.secret-key=dRLq_8__3TbYJyLHKybe-DCg86N7Q2PZhQYVy1NClmk
#quarkus.rest-client."africa.flot.infrastructure.danaya.DanayaClient".url=https://demo.danaya.africa:8443/api
#danaya.api-key=Flot-Demo-1
#danaya.api-secret=dRLq_8__3TbYJyLHKybe-DCg86N7Q2PZhQYVy1NClmk
#
quarkus.rest-client."africa.flot.infrastructure.danaya.DanayaClient".url=https://demo.danaya.africa:8443/api
quarkus.rest-client.danaya-api.api-key=Flot-Demo-1
quarkus.rest-client.danaya-api.api-secret=dRLq_8__3TbYJyLHKybe-DCg86N7Q2PZhQYVy1NClmk
quarkus.rest-client.danaya-api.url=https://demo.danaya.africa:8443/api
# Délai initial avant le premier check
quarkus.rest-client.danaya-api.initial-delay-seconds=3
# Intervalle entre les checks
quarkus.rest-client.danaya-api.polling-interval-seconds=5
# Nombre maximum de tentatives
quarkus.rest-client.danaya-api.max-polling-attempts=60
# Configuration générale des logs
quarkus.log.handler.gelf.enabled=false
quarkus.log.category."io.quarkus".level=WARN
quarkus.log.category."org.hibernate".level=WARN
%prod.quarkus.log.console.enable=false
# Format commun pour tous les logs
quarkus.log.handler.file.format=[%d{yyyy-MM-dd HH:mm:ss.SSS}] %p: %m%n
# Configuration du log principal
quarkus.log.file.enable=true
quarkus.log.file.path=storage/logs/flot.log
quarkus.log.file.rotation.max-file-size=0
quarkus.log.file.rotation.rotate-on-boot=true
quarkus.log.file.rotation.rotate-at=00:00:01
quarkus.log.file.rotation.suffix=.yyyy-MM-dd.log
quarkus.log.file.rotation.max-backup-index=0
# Canal Danaya
quarkus.log.category."africa.flot.infrastructure.dayana".use-parent-handlers=false
quarkus.log.category."africa.flot.infrastructure.dayana".handlers=DANAYA_FILE
quarkus.log.category."africa.flot.infrastructure.dayana".level=DEBUG
quarkus.log.handler.file."DANAYA_FILE".enable=true
quarkus.log.handler.file."DANAYA_FILE".format=[%d{yyyy-MM-dd HH:mm:ss.SSS}] %p: %m%n
quarkus.log.handler.file."DANAYA_FILE".path=storage/logs/danaya.log
quarkus.log.handler.file."DANAYA_FILE".rotation.max-file-size=0
quarkus.log.handler.file."DANAYA_FILE".rotation.rotate-on-boot=true
quarkus.log.handler.file."DANAYA_FILE".rotation.rotate-at=00:00:01
quarkus.log.handler.file."DANAYA_FILE".rotation.suffix=.yyyy-MM-dd.log
quarkus.log.handler.file."DANAYA_FILE".rotation.max-backup-index=0
# Canal Audit
quarkus.log.category."africa.flot.audit".use-parent-handlers=false
quarkus.log.category."africa.flot.audit".handlers=AUDIT_FILE
quarkus.log.category."africa.flot.audit".level=INFO
quarkus.log.handler.file."AUDIT_FILE".enable=true
quarkus.log.handler.file."AUDIT_FILE".format=[%d{yyyy-MM-dd HH:mm:ss.SSS}] %p: %m%n
quarkus.log.handler.file."AUDIT_FILE".path=storage/logs/audit.log
quarkus.log.handler.file."AUDIT_FILE".rotation.max-file-size=0
quarkus.log.handler.file."AUDIT_FILE".rotation.rotate-on-boot=true
quarkus.log.handler.file."AUDIT_FILE".rotation.rotate-at=00:00:01
quarkus.log.handler.file."AUDIT_FILE".rotation.suffix=.yyyy-MM-dd.log
quarkus.log.handler.file."AUDIT_FILE".rotation.max-backup-index=0
# Canal Erreur
quarkus.log.category."africa.flot.error".use-parent-handlers=false
quarkus.log.category."africa.flot.error".handlers=ERROR_FILE
quarkus.log.category."africa.flot.error".level=ERROR
quarkus.log.handler.file."ERROR_FILE".enable=true
quarkus.log.handler.file."ERROR_FILE".format=[%d{yyyy-MM-dd HH:mm:ss.SSS}] %p: %m%n
quarkus.log.handler.file."ERROR_FILE".path=storage/logs/error.log
quarkus.log.handler.file."ERROR_FILE".rotation.max-file-size=0
quarkus.log.handler.file."ERROR_FILE".rotation.rotate-on-boot=true
quarkus.log.handler.file."ERROR_FILE".rotation.rotate-at=00:00:01
quarkus.log.handler.file."ERROR_FILE".rotation.suffix=.yyyy-MM-dd.log
quarkus.log.handler.file."ERROR_FILE".rotation.max-backup-index=0
# Configuration Sécurité
quarkus.security.jaxrs.deny-unannotated-endpoints=true
# Production Configuration
quarkus.datasource.username=postgres
quarkus.datasource.password=EqM4wQNssNWvhT5eu2ZW65D8GV0q0l0j4s3NnvDrFbf32GwHwgLax768UTrPknpE
quarkus.datasource.reactive.url=vertx-reactive:postgresql://coolify.devops.flot.africa:5432/flot-core-db
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.log.bind-parameters=true
quarkus.hibernate-orm.statistics=true

# Configuration Redis
#quarkus.redis.hosts=redis://localhost:6379

# Identifiant de compte pour l'API de L?Afrique Mobile
africa.mobile.accountid=EY2250707076277_01
# Mot de passe pour l'API de L?Afrique Mobile
africa.mobile.password=MIabv6kYe1ubZls
# URL de l'API de L?Afrique Mobile
africa.mobile.api.url=https://lamsms.lafricamobile.com
quarkus.rest-client.africa-mobile-api.url=https://lamsms.lafricamobile.com
# Nom de l'expéditeur pour l'envoi de SMS
africa.mobile.sender=API_LAMSMS
# Configuration du pool de worker threads
# Configuration du client REST
africa-mobile-api/mp-rest/url=https://lamsms.lafricamobile.com
africa-mobile-api/mp-rest/scope=javax.inject.Singleton
# Configuration Jetfy API
quarkus.jetfy.api.token=${JETFY_API_TOKEN}
quarkus.jetfy.api.sender-id=${JETFY_SENDER_ID:FLOT}
# REST Client configuration
quarkus.rest-client.jetfy-api.url=https://api.jetfy.net
quarkus.rest-client.jetfy-api.scope=jakarta.enterprise.context.ApplicationScoped
# Session Configuration
session.lifetime=120
# Auth API Key for Admin
auth.admin.key=${AUTH_ADMIN_KEY:admin}
#####################################################################
#
##                          FINERATE
##
#####################################################################
# Fineract API Configuration
fineract.api.url=https://qo4wwsgko0c4wsgcoc008go8.sandbox.devops.flot.africa/fineract-provider/api
fineract.api.username=mifos
fineract.api.password=wydjaR-citro1-dehjad

# REST Client Configuration pour Fineract
quarkus.rest-client.fineract-api.url=${fineract.api.url}
quarkus.rest-client.fineract-api.scope=jakarta.inject.Singleton
quarkus.rest-client.fineract-api.providers=africa.flot.infrastructure.client.FineractAuthenticationProvider
quarkus.rest-client.fineract-api.verify-host=false
quarkus.rest-client.fineract-api.hostname-verifier=io.quarkus.restclient.NoopHostnameVerifier

# Timeouts
quarkus.rest-client.fineract-api.connect-timeout=30000
quarkus.rest-client.fineract-api.read-timeout=30000

# Retry Configuration
quarkus.rest-client.fineract-api.max-retries=3
quarkus.rest-client.fineract-api.retry-interval=1000

# Logging spécifique pour Fineract
quarkus.log.category."africa.flot.infrastructure.fineract".level=DEBUG
quarkus.log.category."africa.flot.infrastructure.fineract".handlers=FINERACT_FILE

# Configuration du fichier de log Fineract
quarkus.log.handler.file."FINERACT_FILE".enable=true
quarkus.log.handler.file."FINERACT_FILE".format=[%d{yyyy-MM-dd HH:mm:ss.SSS}] %p: %m%n
quarkus.log.handler.file."FINERACT_FILE".path=storage/logs/fineract.log
quarkus.log.handler.file."FINERACT_FILE".rotation.max-file-size=10M
quarkus.log.handler.file."FINERACT_FILE".rotation.max-backup-index=5


# Configuration Redis
quarkus.redis.enabled=true
quarkus.redis.health.enabled=true
quarkus.redis.hosts=redis://195.110.34.74:6379
quarkus.redis.password=fiU16eUXrXbTjlZR1x7n192pEzL9f8b4PU9mzy5dATjPxYg2vlJbVmNvNRShHnlI
quarkus.redis.database=0

# Pool Configuration
quarkus.redis.max-pool-size=20
quarkus.redis.max-pool-waiting=10
quarkus.redis.pool-cleaner-interval=15s

# Timeout Configuration
quarkus.redis.timeout=30s
quarkus.redis.connect-timeout=30s

# Retry Configuration
quarkus.redis.retry-attempts=5
quarkus.redis.retry-interval=3s

# Client Configuration
quarkus.redis.tcp-keep-alive=true
quarkus.redis.tcp-no-delay=true

# Monitoring
quarkus.redis.metrics.enabled=true

