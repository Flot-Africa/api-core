# Base Configuration (commune à tous les environnements)
quarkus.http.root-path=/api
quarkus.resteasy-reactive.path=/v1
quarkus.default-locale=fr-FR

# Configuration Production
%prod.quarkus.http.port=${PORT:8080}

# Database Configuration
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=${DB_USER}
%prod.quarkus.datasource.password=${DB_PASSWORD}
%prod.quarkus.datasource.reactive.url=vertx-reactive:postgresql://${DB_HOST:db}:${DB_PORT:5432}/${DB_NAME:flot_api}
%prod.quarkus.hibernate-orm.database.generation=update
%prod.quarkus.hibernate-orm.packages=africa.flot.domain.model
%prod.quarkus.hibernate-orm.log.sql=false
%prod.quarkus.hibernate-orm.log.bind-parameters=false
quarkus.datasource.jdbc=false

# Metrics Configuration
%prod.quarkus.micrometer.export.prometheus.enabled=true
%prod.quarkus.micrometer.export.prometheus.path=/metrics
%prod.quarkus.micrometer.export.prometheus.port=9100
%prod.quarkus.micrometer.binder.http-client.enabled=true
%prod.quarkus.micrometer.binder.http-server.enabled=true
%prod.quarkus.micrometer.binder.jvm=true
%prod.quarkus.micrometer.binder.system=true
%prod.quarkus.micrometer.binder.vertx.enabled=true
%prod.quarkus.micrometer.binder.kafka.enabled=true
%prod.quarkus.micrometer.registry-static-labels=application=flot-api
%prod.quarkus.micrometer.export.prometheus.authentication.enabled=true
%prod.quarkus.micrometer.export.prometheus.authentication.basic-auth.username=${METRICS_USERNAME:admin}
%prod.quarkus.micrometer.export.prometheus.authentication.basic-auth.password=${METRICS_PASSWORD:changeme}

# MinIO Configuration
%prod.quarkus.minio.url=${MINIO_URL}
%prod.quarkus.minio.access-key=${MINIO_ACCESS_KEY}
%prod.quarkus.minio.secret-key=${MINIO_SECRET_KEY}
%prod.quarkus.minio.bucket-name=${MINIO_BUCKET_NAME}

# Danaya API Configuration
%prod.quarkus.rest-client."africa.flot.infrastructure.danaya.DanayaClient".url=${DANAYA_API_URL}
%prod.quarkus.rest-client.danaya-api.api-key=${DANAYA_API_KEY}
%prod.quarkus.rest-client.danaya-api.api-secret=${DANAYA_API_SECRET}
%prod.quarkus.rest-client.danaya-api.url=${DANAYA_API_URL}

# JWT Configuration
%prod.smallrye.jwt.sign.key.location=${JWT_PRIVATE_KEY_PATH}
%prod.mp.jwt.verify.issuer=${JWT_ISSUER}
%prod.mp.jwt.verify.publickey.location=${JWT_PUBLIC_KEY_PATH}

# Logging Configuration
%prod.quarkus.log.console.enable=true
%prod.quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{2.}] (%t) %s%e%n
%prod.quarkus.log.category."io.quarkus".level=WARN
%prod.quarkus.log.category."org.hibernate".level=WARN

# Container Image Configuration
%prod.quarkus.container-image.build=true
%prod.quarkus.container-image.push=true
%prod.quarkus.container-image.registry=${DOCKER_REGISTRY}
%prod.quarkus.container-image.username=${DOCKER_USERNAME}
%prod.quarkus.container-image.group=${DOCKER_USERNAME}
%prod.quarkus.container-image.name=flot-api
%prod.quarkus.container-image.tag=${VERSION:latest}

# Native Configuration
%prod.quarkus.native.container-build=true
%prod.quarkus.package.type=native